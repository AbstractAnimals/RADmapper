# -*- coding: utf-8 -*-
'''
Created on 27 april 2012
@author: tcezard
'''
import sys, os
from IO_interface import vcfIO


if __name__=='__main__':
    """Get the snps present in High not in Low and the other way around"""
    input_vcf_file=sys.argv[1]
    open_input = open(os.path.abspath(input_vcf_file))
    reader = vcfIO.VcfReader(open_input)
    header="#CHROM\tPOS\tREF\tALT\trsID\tValidated\tKGPilot123\tdbSNP"
    print header
    for record in reader:
        out=[]
        out.append(str(record.get_reference()))
        out.append(str(record.get_position()))
        out.append(str(record.get_reference_base()))
        out.append(str(record.get_alt_bases()[0]))
        out.append(str(record.get_id()))
        if record.get_info_tag_value('VLD'):
            out.append(str(1))
        else:
            out.append(str(0))
        if record.get_info_tag_value('KGPilot123'):
            out.append(str(1))
        else:
            out.append(str(0))
        out.append(str(record.get_info_tag_value('dbSNPBuildID')))
        print '\t'.join(out)
    open_input.close()
